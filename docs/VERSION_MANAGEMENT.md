# ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ

æœ¬é¡¹ç›®ä½¿ç”¨ Husky + è‡ªå®šä¹‰è„šæœ¬å®ç°è‡ªåŠ¨ç‰ˆæœ¬ç®¡ç†ã€‚

## ğŸš€ è‡ªåŠ¨ç‰ˆæœ¬é€’å¢

æ¯æ¬¡æ‰§è¡Œ `git commit` æ—¶ï¼Œç‰ˆæœ¬å·ä¼šè‡ªåŠ¨é€’å¢è¡¥ä¸ç‰ˆæœ¬ï¼š

```bash
# æäº¤å‰: v0.1.3
git add .
git commit -m "ä¿®å¤æŒ‰å°æ—¶ç»Ÿè®¡é¡µé¢çš„é›¶å€¼æ˜¾ç¤ºé—®é¢˜"
# æäº¤å: v0.1.4
```

### å·¥ä½œåŸç†

1. **pre-commit hook** åœ¨æäº¤å‰è‡ªåŠ¨æ‰§è¡Œ
2. **bump-version.js** è„šæœ¬é€’å¢è¡¥ä¸ç‰ˆæœ¬å·
3. æ›´æ–°åçš„ `src/config/version.js` è‡ªåŠ¨æ·»åŠ åˆ°å½“å‰æäº¤

## ğŸ› ï¸ æ‰‹åŠ¨ç‰ˆæœ¬ç®¡ç†

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶ç‰ˆæœ¬é€’å¢ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

### æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
```bash
pnpm run version:current
# æˆ–
node scripts/version.js current
```

### é€’å¢è¡¥ä¸ç‰ˆæœ¬ (x.x.X)
```bash
pnpm run version:patch
# v0.1.3 â†’ v0.1.4
```

### é€’å¢æ¬¡ç‰ˆæœ¬ (x.X.0)
```bash
pnpm run version:minor
# v0.1.3 â†’ v0.2.0
```

### é€’å¢ä¸»ç‰ˆæœ¬ (X.0.0)
```bash
pnpm run version:major
# v0.1.3 â†’ v1.0.0
```

## ğŸ“ ç›¸å…³æ–‡ä»¶

- `src/config/version.js` - ç‰ˆæœ¬é…ç½®æ–‡ä»¶
- `scripts/bump-version.js` - è‡ªåŠ¨é€’å¢è„šæœ¬
- `scripts/version.js` - æ‰‹åŠ¨ç‰ˆæœ¬ç®¡ç†è„šæœ¬
- `.husky/pre-commit` - Git pre-commit hook

## âš™ï¸ é…ç½®è¯´æ˜

### ç¦ç”¨è‡ªåŠ¨é€’å¢

å¦‚æœæŸæ¬¡æäº¤ä¸æƒ³è‡ªåŠ¨é€’å¢ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```bash
git commit --no-verify -m "æ–‡æ¡£æ›´æ–°"
```

### ä¿®æ”¹é€’å¢ç­–ç•¥

ç¼–è¾‘ `scripts/bump-version.js` å¯ä»¥ä¿®æ”¹è‡ªåŠ¨é€’å¢çš„ç­–ç•¥ï¼š

- å½“å‰ï¼šæ¯æ¬¡æäº¤é€’å¢è¡¥ä¸ç‰ˆæœ¬
- å¯é€‰ï¼šæ ¹æ® commit message æ™ºèƒ½é€’å¢
- å¯é€‰ï¼šæ·»åŠ æ„å»ºå·é€’å¢

## ğŸ” ç‰ˆæœ¬æ˜¾ç¤º

ç‰ˆæœ¬å·ä¼šæ˜¾ç¤ºåœ¨é¡µé¢å¤´éƒ¨ï¼Œæ ¼å¼ä¸º `v0.1.3`ï¼Œç‚¹å‡»å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚
